<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>stuffby_iy</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="logo">IY</div>
    <h1>stuffby_iy</h1>

    <input id="searchInput" placeholder="ðŸ” Cari produk..." onkeyup="filterProducts()">

    <div id="category">
      <button onclick="setCategory('all')">All</button>
      <button onclick="setCategory('fashion')">Fashion</button>
      <button onclick="setCategory('beauty')">Beauty</button>
      <button onclick="setCategory('home')">Home</button>
      <button onclick="setCategory('tools')">Tools</button>
    </div>

    <div id="products"></div>
  </div>

  <!-- DATA -->
  <script src="products_part1.js"></script>
<script src="products_part2.js"></script>
<script src="products_part3.js"></script>

<script>
  let currentCategory = "all";

  const allProducts = [
    ...productsPart1,
    ...productsPart2,
    ...productsPart3
  ];

  const productsDiv = document.getElementById("products");

  function renderProducts(){
    productsDiv.innerHTML = "";

    allProducts.forEach(p => {
      const div = document.createElement("div");
      div.className = "product";
      div.dataset.name = p.name.toLowerCase();
      div.dataset.category = p.category;

      div.innerHTML = `
        <a href="${p.link}" target="_blank" class="card">
          <img src="${p.img}" alt="${p.name}">
          <div class="title">${p.name}</div>
        </a>
      `;

      productsDiv.appendChild(div);
    });
  }

  function setCategory(cat){
    currentCategory = cat;
    filterProducts();
  }

  function filterProducts(){
    const q = document.getElementById("searchInput").value.toLowerCase();
    document.querySelectorAll(".product").forEach(p=>{
      const name = p.dataset.name;
      const cat = p.dataset.category;
      const showName = name.includes(q);
      const showCat = (currentCategory==="all" || currentCategory===cat);
      p.style.display = (showName && showCat) ? "block" : "none";
    });
  }

  renderProducts();
</script>